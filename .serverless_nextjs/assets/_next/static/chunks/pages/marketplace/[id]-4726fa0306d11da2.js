(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{19046:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/marketplace/[id]",function(){return n(59657)}])},59657:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(47568),r=n(34051),i=n.n(r),s=n(85893),d=n(67618),o=n(5357),p=n(25949),l=n(2640),u=n(7192),c=n(11163),y=n(37918),m=n.n(y),f=n(67294),x=n(9008),w=n.n(x),v=n(41540),T=n(1705),h=n(9669),k=n.n(h),b=n(23942),I=function(e){return"0x"+Number(e).toString(16)},L=function(){var e=(0,b.Z)().getProviders,t=function(){var t=(0,a.Z)(i().mark((function t(n){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(!(a=t.sent)||a.networkVersion===n||!n.data.network.chainId){t.next=20;break}return t.prev=4,t.next=7,a.request({method:"wallet_switchEthereumChain",params:[{chainId:I(n.data.network.chainId)}]});case 7:t.next=20;break;case 9:if(t.prev=9,t.t0=t.catch(4),4902!==t.t0.code){t.next=20;break}return t.prev=12,t.next=15,a.request({method:"wallet_addEthereumChain",params:{chainId:I(n.data.network.chainId),chainName:n.data.network.displayName,rpcUrls:[n.data.network.rpcUrl],blockExplorerUrls:[n.data.network.blockExplorerUrl]}});case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(12),console.log(t.t1);case 20:case"end":return t.stop()}}),t,null,[[4,9],[12,17]])})));return function(e){return t.apply(this,arguments)}}();return{switchNetwork:t}},g=n(56010),j=n(62542),M="https://ownnftapi.festivalnfts.xyz/",C=(0,l.e)((function(e){var t,n,r,l,y,x,h,I,C,N,O,_,Z=e.name,S=e.photo,E=e.description,A=(0,c.useRouter)(),q=A.query.id,P=(0,f.useState)([]),U=P[0],B=P[1],z=(0,f.useState)([]),R=(z[0],z[1]),V=(0,f.useState)([]),X=V[0],F=V[1],G=(0,b.Z)().getProviders,J=L().switchNetwork,W=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k().get("".concat(M,"api/v1/nft/").concat(q));case 2:t=e.sent,B(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,a.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,k().get("".concat(M,"api/v1/transaction?type=sell&nft=").concat(q));case 3:n=e.sent,R(n.data.results),console.log(null===(t=n.data)||void 0===t?void 0:t.results,"qwwwwwwwwwwwwwwwwwwwwwwwwwwww");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k().get("".concat(M,"api/v1/offer?nft=633eb0c48bcdf4324c627cd7"));case 2:t=e.sent,F(t.data.results),console.log(X,"LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){W(),D(),H()}),[q]);var K=function(){var e=(0,a.Z)(i().mark((function e(t){var n,a,r,s,d,o,p,l,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U.data.marketplace.marketplaceContractAddress,a=U.data.marketplace.nftContractAddress,r=U.data.marketplace.marketplaceIndex,s="wei"===(s=U.data.collectionItem.unit)?18:6,e.next=7,J(U);case 7:return d=G(),o=new(m())(d),p=localStorage.getItem("walletAddress"),l=new o.eth.Contract(g,n),u=j.vz(t.toString(),s),e.next=14,l.methods.createMarketSale(a,r).estimateGas({from:p,value:u});case 14:c=e.sent,o.eth.sendTransaction({from:p,to:n,data:l.methods.createMarketSale(a,r).encodeABI(),value:u,gas:c}).once("sending",(function(e){console.log(e)})).on("confirmation",(function(e,t,n){})).on("error",(function(e){console.log(e)})).then((function(e){A.push("/profile")}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(w(),{children:[(0,s.jsx)("title",{children:"Weapons Inc"}),(0,s.jsxs)("metadata",{children:[(0,s.jsx)("meta",{property:"og:image",content:S}),(0,s.jsx)("meta",{property:"og:name",content:Z}),(0,s.jsx)("meta",{property:"og:description",content:E})]}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("div",{className:"bg-marketplacebackground bg-no-repeat relative",children:(0,s.jsxs)(u.Z,{children:[(0,s.jsxs)("div",{className:"md:flex md:gap-[200px] md:flex-row 2xs:flex 2xs:flex-col ",children:[(0,s.jsx)("div",{className:"md:max-w-[50%]",children:(0,s.jsx)(d.Z,{image:(null===(t=U.data)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.image)?null===(r=U.data.metadata)||void 0===r?void 0:r.image:null===(l=U.data)||void 0===l||null===(y=l.metadata)||void 0===y?void 0:y.animation_url,description:null===(x=U.data)||void 0===x?void 0:x.metadata.description,properties:null===(h=U.data)||void 0===h?void 0:h.metadata.attributes})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Z,{name:null===U||void 0===U||null===(I=U.data)||void 0===I?void 0:I.name,details:null===U||void 0===U||null===(C=U.data)||void 0===C?void 0:C.metadata.description}),(0,s.jsx)(p.Z,{contractaddress:null===U||void 0===U||null===(N=U.data)||void 0===N||null===(O=N.collectionItem)||void 0===O?void 0:O.contractAddress})]})]}),(0,s.jsxs)("div",{className:"flex mt-[15px] mb-4 md:gap-6 md:flex-row 2xs:flex-col 2xs:gap-2 2xs:items-center ",children:[(0,s.jsx)("div",{className:"w-[200px]",children:(null===U||void 0===U||null===(_=U.data)||void 0===_?void 0:_.isOnSale)&&(0,s.jsx)(v.Z,{text:"Buy",bgcolor:"violet",onclick:function(){return K(U.data.marketplace.price)}})}),(0,s.jsx)("div",{className:"w-[200px]",children:(0,s.jsx)(v.Z,{onclick:function(){console.log("inside handle click"),A.push("/makeoffer/".concat(q))},text:"Make Offer",bgcolor:"grey"})}),(0,s.jsx)("div",{className:"w-[200px]",children:(0,s.jsx)(v.Z,{text:"Share",bgcolor:"grey"})})]}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{children:(0,s.jsx)(T.Z,{})}),(0,s.jsx)("div",{className:"w-[150px] ml-[45%] mt-[30px] mb-[30px]",onClick:function(){A.push("/marketplace/")},children:(0,s.jsx)(v.Z,{text:"View More",bgcolor:"violet"})})]})})]})}))},88677:function(){},56010:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"offerItemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"offerer","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"nftContract","type":"address"}],"name":"CancelOffer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"nftContract","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"seller","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"bool","name":"sold","type":"bool"}],"name":"MarketItemCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"nftContract","type":"address"}],"name":"MarketItemSold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"offerItemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"nftContract","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"offerer","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"endTime","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isAccepted","type":"bool"}],"name":"NewOffer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"offerItemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"nftContract","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"offerer","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isAccepted","type":"bool"}],"name":"OfferAccepted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"nftContract","type":"address"}],"name":"RemovedMarketItem","type":"event"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"offerItemId","type":"uint256"}],"name":"acceptOffer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"offerItemId","type":"uint256"}],"name":"cancelOffer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"createMarketItem","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"createMarketSale","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"fetchMarketItems","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"owner","type":"address"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct Marketplace.MarketItem[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"}],"name":"makeOffer","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"removeMarketItem","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"bool","name":"_value","type":"bool"}],"name":"setList","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}},function(e){e.O(0,[543,505,856,739,782,207,542,671,773,839,774,888,179],(function(){return t=19046,e(e.s=t);var t}));var t=e.O();_N_E=t}]);